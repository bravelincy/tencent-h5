@import "base/variables";
@import "base/mixins";
@import "base/reset";
// @import "components/buttons";

@function half($px) {
  @return $px / 2;
}

html, body {
	height: 100%;
}

.pages {
	height: 100%;
	.page {
		position: relative;
		height: 100%;
		overflow: hidden;
	}
	.page1 {
		$spriteSize: 866px 750px;
		$bgSize: half(nth($spriteSize, 1)) half(nth($spriteSize, 2));
		background: nth($pageMainColor, 1) url(../images/page1_bg.jpg) center top no-repeat;
		background-size: contain;
		.medal {
			width: half(567px);
			height: half(434px);
			margin: 35px auto 0;
			background: url(../images/page1_sprite.png) 0 half(-134px) no-repeat;
			background-size: $bgSize;
			transition: opacity .5s;
			opacity: 0;
			.loaded & {
				opacity: 1;
				animation: sink .6s ease-in-out both;
			}
			@at-root {
				@keyframes sink {
					0% {
						transform: translate3d(0, -100%, 0);
					}
					50% {
						transform: translate3d(0, 15%, 0);
					}
					75% {
						transform: translate3d(0, -10%, 0);
					}
					100% {
						transform: translate3d(0, 0, 0);
					}
				}
			}
		}
		.penguins {
			& > div {
				position: absolute;
				left: 50%;
				opacity: 0;
				background: url(../images/page1_sprite.png) no-repeat;
				background-size: $bgSize;
			}
			.left-one, .right-one {
				transition: opacity .5s .3s ease-in-out;
				.loaded & {
					opacity: 1;
				}
			}
			.left-one {
				bottom: 30%;
				width: half(150px);
				height: half(176px);
				margin-left: half(-280px);
				background-position: right half(-372px);
				transition-delay: .6s;
			}
			.right-one {
				bottom: 28%;
				width: half(204px);
				height: half(196px);
				margin-left: half(100px);
				background-position: right bottom;
			}
			.center-one {
				bottom: 20%;
				z-index: 2;
				width: half(227px);
				height: half(240px);
				margin-left: half(half(-227px));
				background-position: right half(-128px);
				transform: translate3d(100%, 250%, 0);
				transition: all .5s -.2s;
				&:before, &:after {
					content: "";
					position: absolute;
					z-index: 2;
					background: inherit;
					transform: translate3d(50%, 100%, 0);
					transition: all 1s -.3s;
				}
				&:before {
					left: half(103px);
					top: half(236px);
					width: half(37px);
					height: half(31px);
					background-position: half(-568px) half(-134px);
				}
				&:after {
					left: half(152px);
					top: half(152px);
					width: half(39px);
					height: half(35px);
					background-position: half(-568px) half(-166px);
				}
				.loaded & {
					opacity: 1;
					transform: translate3d(0,0,0);
					&:before, &:after {
						transform: translate3d(0, 0, 0);
					}
				}
				.eyes {
					position: absolute;
					width: 50%;
					margin-left: 10px;
					margin-top: 35px;
					transform: rotate(-29deg);
					text-align: center;
					font-size: 0;
					i {
						display: inline-block;
						width: 10px;
						height: 10px;
						background: #000;
						border-radius: 50%;
						transform: scale(.6, 1);
						animation: blik 2s ease-in-out infinite;
						&.r {
							margin-left: 22px;
						}
					}
					@at-root {
						@keyframes blik {
							0% {
								transform: scale(.6, 1);
							}
							4% {
								transform: scale(.6, .2);
							}
							8% {
								transform: scale(.6, 1);
							}
						}
					}
				}
				.stars {
					width: half(194px);
					height: half(125px);
					margin-left: -15px;
					margin-top: -12px;
					background: inherit;
					background-position: right top;
					opacity: 0;
					transition: all .5s 1s;
					.loaded & {
						opacity: 1;
					}
					i {
						position: absolute;
						width: half(34px);
						height: half(46px);
						background: inherit;
						background-position: half(-568px) half(-202px);
						transform: rotate(-1deg);
						.loaded & {
							animation: light 1.1s infinite;
						}
					}
					.s1 {
						left: -18px;
						top: 5px;
						animation-duration: 2.1s !important;
					}
					.s2 {
						left: -10px;
						top: 90px;
						transform: rotate(-5deg) scale(.8) !important;
						animation-delay: -1.2s;
					}
					.s3 {
						left: 88px;
						top: 20px;
						transform: rotate(-5deg);
						animation-delay: -1.3s !important;
					}
					@at-root {
						@keyframes light {
							0% {
								opacity: 0;
								transform: scale(1);
							}
							20% {
								opacity: 1;
								transform: scale(.6);
							}
							50% {
								opacity: 0;
								transform: scale(1);
							}
						}
					}
				}
				.shadow {
					position: absolute;
					left: 45px;
					bottom: -20px;
					width: 50px;
					height: 20px;
					background: rgba(black, .2);
					border-radius: 50%;
					transform: scale(1, .5);
				}
			}
		}
		.clouds {
			position: absolute;
			width: 100%;
			left: 0;
			bottom: 0;
			padding-top: 10%;
			margin-bottom: -10%;
			background: #fff;
			opacity: 0;
			transition: opacity .5s;
			.loaded & {
				opacity: 1;
				animation: rise .8s both;
			}
			i {
				position: absolute;
				left: 0;
				bottom: 0;
				width: 100%;
				margin-bottom: 10%;
				background: url(../images/page1_sprite.png) no-repeat;
				background-size: percentage(1/($resWidth/nth($spriteSize, 1))) auto;
			}
			.cloud1 {
				z-index: 3;
				padding-top: percentage(182px/$resWidth);
				background-position: left bottom;
			}
			.cloud2 {
				padding-top: percentage(134px/$resWidth);
				opacity: .7;
				margin-bottom: 16%;
			}
			@at-root {
				@keyframes rise {
					0% {
						transform: translate3d(0, 100%, 0);
					}
					50% {
						transform: translate3d(0, -15%, 0);
					}
					75% {
						transform: translate3d(0, 10%, 0);
					}
					100% {
						transform: translate3d(0, 0, 0);
					}
				}
			}
		}
	}
}